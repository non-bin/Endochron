
<!-- saved from url=(0040)file:///D:/Repos/Endochron/src/test.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>14-Segment Display</title>
</head>
<body>
  <div id="reference"><br></div>
<!-- svg of a 14-segment display -->
<svg width="160" height="220">
  <g xmlns="http://www.w3.org/2000/svg" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" inkscape:label="Layer 1" inkscape:groupmode="layer" transform="translate(10.99995,-843.36206)">
    <path xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" d="M 29.00005,878.36205 L 54.00005,928.36205 L 54.00005,938.36205 L 49.00005,938.36205 L 24.00005,893.36205 L 24.00005,878.36205 L 29.00005,878.36205 z" style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="H"></path>
    <path style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 59.00005,938.36205 L 59.00005,878.36205 L 79.00005,878.36205 L 79.00005,938.36205 L 69.00005,948.36205 L 59.00005,938.36205 z" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="cccccc" inkscape:transform-center-y="-45" id="J"></path>
    <path style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 59.00005,1028.3621 L 59.00005,963.36205 L 69.00005,953.36205 L 79.00005,963.36205 L 79.00005,1028.3621 L 59.00005,1028.3621 z" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="cccccc" inkscape:transform-center-y="-45" id="M"></path>
    <path style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 24.00005,853.36205 L 114.00005,853.36204 L 124.00005,863.36204 L 114.00005,873.36204 L 24.00005,873.36205 L 14.00005,863.36205 L 24.00005,853.36205 z" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" id="A"></path>
    <path style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M -0.99995,943.36205 L -0.99995,873.36205 L 9.00005,863.36205 L 19.00005,873.36205 L 19.00005,943.36205 L 9.00005,953.36205 L -0.99995,943.36205 z" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" inkscape:transform-center-y="-45" id="F"></path>
    <path inkscape:transform-center-y="-45" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" d="M -0.99995,1033.3621 L -0.99995,963.36205 L 9.00005,953.36205 L 19.00005,963.36205 L 19.00005,1033.3621 L 9.00005,1043.3621 L -0.99995,1033.3621 z" style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="E"></path>
    <path style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 119.00005,943.36204 L 119.00005,873.36204 L 129.00005,863.36204 L 139.00005,873.36204 L 139.00005,943.36204 L 129.00005,953.36204 L 119.00005,943.36204 z" id="B" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" inkscape:transform-center-y="-45"></path>
    <path inkscape:transform-center-y="-45" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" d="M 119.00005,1033.362 L 119.00005,963.36198 L 129.00005,953.36198 L 139.00005,963.36198 L 139.00005,1033.362 L 129.00005,1043.362 L 119.00005,1033.362 z" style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="C"></path>
    <path style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 24.00005,1033.3621 L 114.00005,1033.362 L 124.00005,1043.362 L 114.00005,1053.362 L 24.00005,1053.3621 L 14.00005,1043.3621 L 24.00005,1033.3621 z" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" id="D"></path>
    <path style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 24.00005,943.36205 L 54.00005,943.36205 L 64.00005,953.36205 L 54.00005,963.36205 L 24.00005,963.36205 L 14.00005,953.36205 L 24.00005,943.36205 z" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" id="G1"></path>
    <path xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" d="M 84.00005,943.36204 L 109.00005,943.36204 L 119.00005,953.36204 L 109.00005,963.36204 L 84.00005,963.36204 L 74.00005,953.36204 L 84.00005,943.36204 z" style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="G2"></path>
    <path xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" d="M 109.00005,878.36204 L 84.00005,928.36204 L 84.00005,938.36204 L 89.00005,938.36204 L 114.00005,893.36204 L 114.00005,878.36204 L 109.00005,878.36204 z" style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="K"></path>
    <path xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" d="M 109.00005,1028.362 L 84.000059,978.36201 L 84.000059,968.36201 L 89.000059,968.36201 L 114.00005,1013.362 L 114.00005,1028.362 L 109.00005,1028.362 z" style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="N"></path>
    <path xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccc" d="M 29.00005,1028.362 L 54.00005,978.36204 L 54.00005,968.36204 L 49.00005,968.36204 L 24.00005,1013.362 L 24.00005,1028.362 L 29.00005,1028.362 z" style="fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="L"></path>
  </g>
</svg>

<script>
  const segments = [
    false,
    false,
    document.getElementById('N'),
    document.getElementById('M'),
    document.getElementById('L'),
    document.getElementById('K'),
    document.getElementById('J'),
    document.getElementById('H'),
    document.getElementById('G2'),
    document.getElementById('G1'),
    document.getElementById('F'),
    document.getElementById('E'),
    document.getElementById('D'),
    document.getElementById('C'),
    document.getElementById('B'),
    document.getElementById('A'),
  ];

  function display(c) {
    document.getElementById('reference').innerHTML = c;
    let encodedChar = charEncodings[c].toString(2).padStart(16, 0);
    segments.forEach((segment, index) => {
      if (segment)
        segment.style.fill = encodedChar[index] === '1' ? '#ff0000' : '#ffeeee';
    });
  }

  const charEncodings = { // got github copiolet to generate this with my help, comments are where it went wrong
    '0': 0b0000110000111111,
    '1': 0b0000010000000110, // nope
    '2': 0b0000000011011011, // nope
    '3': 0b0000000010001111,
    '4': 0b0000000011100110,
    '5': 0b0000000011101101,
    '6': 0b0000000011111101,
    '7': 0b0000000000000111,
    '8': 0b0000000011111111,
    '9': 0b0000000011101111,
    'A': 0b0000000011110111, // nope, that's a P
    'B': 0b0001001010001111, // almost
    'C': 0b0000000000111001,
    'D': 0b0001001000001111,
    'E': 0b0000000011111001,
    'F': 0b0000000001110001,
    'G': 0b0000000010111101, // nope
    'H': 0b0000000011110110,
    'I': 0b0001001000001001, // almost, but not what I need
    'J': 0b0000000000011110,
    'K': 0b0010010001110000, // nope. I added the comments arround here so now it's started generating them for me :P seems random though
    'L': 0b0000000000111000,
    'M': 0b0001001011101000, // nope
    'N': 0b0001001010001000, // nope
    'O': 0b0000000000111111,
    'P': 0b0000000011110011,
    'Q': 0b0000000000111101, // nope
    'R': 0b0001001000011000, // nope
    'S': 0b0000000011101101, // just missing 1 segment
    'T': 0b0001001000000001, // nope
    'U': 0b0000000000111110,
    'V': 0b0000110000110000, // nope
    'W': 0b0010100000110110, // nope
    'X': 0b0010110100000000, // nope
    'Y': 0b0001010100000000, // nope
  };

  display(Object.keys(charEncodings)[Object.keys(charEncodings).length - 1]);

  // var charIndex = 0;
  // setInterval(() => {
  //   display(Object.keys(charEncodings)[charIndex]);
  //   charIndex = (charIndex + 1) % Object.keys(charEncodings).length;
  // }, 500);
</script>

</body>
</html>
